# EOS Websockets/Webhooks

Able to receive a push notification of a transaction (optional Block ID & Traces)

## Install

**npm**

```bash
$ npm install --save eosws
```

## Javascript

```javascript
import EosWebSocket from "eosws";

const eosws = new EosWebSocket("ws://<SERVER>/v1/stream");

eosws.on('open', () => {
    eosws.get_table_deltas("eosio", "eosio", "global");
    eosws.get_actions("eosio.token", "transfer");
})

eosws.on("message", message => {
    console.log(message);
})
```

## Websocket

Listen for all transactions from a particular contract (scope)

```url
ws://<SERVER>/v1/stream
```

## Types of Notifications

1) websocket (and/or socket.io)
2) web hook (we poke your API on trigger)
3) long polling API (eosjs compatible) on steroids

## Related Javascript

-   [x] WebSockets (<https://github.com/websockets/ws>)
-   [ ] Socket.io (<https://github.com/socketio/socket.io>)

## Related Video

-   Push Irreversible Transaction (<https://youtu.be/dO-Le3TTim0?t=34m6s>)

## Related Nodeos Plugins

-   Watcher & ZeroMQ Nodeos plugin (<https://github.com/acoutts/chintai-zeromq-watcher-plugin>)

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [EosWebSocket](#eoswebsocket)
    -   [Examples](#examples)
    -   [unlisten](#unlisten)
        -   [Parameters](#parameters)
        -   [Examples](#examples-1)
    -   [get_actions](#get_actions)
        -   [Parameters](#parameters-1)
        -   [Examples](#examples-2)
    -   [get_table_deltas](#get_table_deltas)
        -   [Parameters](#parameters-2)
        -   [Examples](#examples-3)

### EosWebSocket

#### Examples

```javascript
const eosws = new EosWebSocket("ws://<SERVER>/v1/stream");
```

#### unlisten

##### Parameters

-   `req_id`  

##### Examples

```javascript
eosws.unlisten("req123");
```

#### get_actions

Get Actions

##### Parameters

-   `account` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Account
-   `action_name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Action Name
-   `receiver` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** Receiver

##### Examples

```javascript
eosws.get_actions("eosio.token", "transfer");
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** req_id

#### get_table_deltas

Get Table Deltas

##### Parameters

-   `code` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Code
-   `scope` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Scope
-   `table_name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Table Name

##### Examples

```javascript
eosws.get_table_deltas("eosio", "eosio", "global");
```
